{"ast":null,"code":"var _jsxFileName = \"/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/PongGame.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport './PongGame.css';\n\n// Helper function to calculate angle\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst calculateAngle = (a, b, c) => {\n  const ba = [a.x - b.x, a.y - b.y, a.z - b.z];\n  const bc = [c.x - b.x, c.y - b.y, c.z - b.z];\n  const dot = ba[0] * bc[0] + ba[1] * bc[1] + ba[2] * bc[2];\n  const magBa = Math.sqrt(ba[0] ** 2 + ba[1] ** 2 + ba[2] ** 2);\n  const magBc = Math.sqrt(bc[0] ** 2 + bc[1] ** 2 + bc[2] ** 2);\n  if (magBa === 0 || magBc === 0) return 0;\n  const cosAngle = Math.max(-1, Math.min(1, dot / (magBa * magBc)));\n  return Math.acos(cosAngle) * (180 / Math.PI);\n};\nconst PongGame = ({\n  exercise,\n  landmarks,\n  onExit\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [timeAlive, setTimeAlive] = useState(0);\n  const [countdown, setCountdown] = useState(10);\n  const [gameStarted, setGameStarted] = useState(false);\n  const gameStateRef = useRef({\n    ball: {\n      x: 400,\n      y: 300,\n      dx: 4,\n      dy: 4,\n      size: 12\n    },\n    playerPaddle: {\n      x: 20,\n      y: 250,\n      width: 15,\n      height: 100\n    },\n    aiPaddle: {\n      x: 765,\n      y: 250,\n      width: 15,\n      height: 100\n    },\n    score: 0,\n    startTime: null,\n    animationId: null\n  });\n\n  // Countdown timer\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => {\n        setCountdown(countdown - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    } else if (countdown === 0 && !gameStarted) {\n      setGameStarted(true);\n      gameStateRef.current.startTime = Date.now();\n    }\n  }, [countdown, gameStarted]);\n  useEffect(() => {\n    if (!gameStarted) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const gameState = gameStateRef.current;\n\n    // Game loop\n    const gameLoop = () => {\n      if (gameOver) return;\n\n      // Clear canvas\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, 800, 600);\n\n      // Draw center line\n      ctx.strokeStyle = '#a855f7';\n      ctx.setLineDash([10, 10]);\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(400, 0);\n      ctx.lineTo(400, 600);\n      ctx.stroke();\n      ctx.setLineDash([]);\n\n      // Update ball position\n      gameState.ball.x += gameState.ball.dx;\n      gameState.ball.y += gameState.ball.dy;\n\n      // Ball collision with top/bottom\n      if (gameState.ball.y - gameState.ball.size < 0 || gameState.ball.y + gameState.ball.size > 600) {\n        gameState.ball.dy *= -1;\n      }\n\n      // Ball collision with player paddle\n      if (gameState.ball.x - gameState.ball.size < gameState.playerPaddle.x + gameState.playerPaddle.width && gameState.ball.x + gameState.ball.size > gameState.playerPaddle.x && gameState.ball.y > gameState.playerPaddle.y && gameState.ball.y < gameState.playerPaddle.y + gameState.playerPaddle.height) {\n        gameState.ball.dx = Math.abs(gameState.ball.dx);\n        gameState.score++;\n        setScore(gameState.score);\n\n        // Speed up slightly\n        gameState.ball.dx *= 1.05;\n        gameState.ball.dy *= 1.05;\n      }\n\n      // Ball collision with AI paddle (perfect)\n      if (gameState.ball.x + gameState.ball.size > gameState.aiPaddle.x && gameState.ball.x - gameState.ball.size < gameState.aiPaddle.x + gameState.aiPaddle.width && gameState.ball.y > gameState.aiPaddle.y && gameState.ball.y < gameState.aiPaddle.y + gameState.aiPaddle.height) {\n        gameState.ball.dx = -Math.abs(gameState.ball.dx);\n      }\n\n      // AI follows ball perfectly (unbeatable)\n      const aiCenter = gameState.aiPaddle.y + gameState.aiPaddle.height / 2;\n      const diff = gameState.ball.y - aiCenter;\n      gameState.aiPaddle.y += diff * 0.3;\n\n      // Keep AI paddle in bounds\n      gameState.aiPaddle.y = Math.max(0, Math.min(600 - gameState.aiPaddle.height, gameState.aiPaddle.y));\n\n      // Check if player lost\n      if (gameState.ball.x < 0) {\n        setGameOver(true);\n        const timeAliveSeconds = Math.floor((Date.now() - gameState.startTime) / 1000);\n        setTimeAlive(timeAliveSeconds);\n        return;\n      }\n\n      // Reset ball if goes past AI\n      if (gameState.ball.x > 800) {\n        gameState.ball.x = 400;\n        gameState.ball.y = 300;\n        gameState.ball.dx = -4;\n        gameState.ball.dy = 4;\n      }\n\n      // Draw player paddle\n      ctx.fillStyle = '#a855f7';\n      ctx.shadowBlur = 20;\n      ctx.shadowColor = '#a855f7';\n      ctx.fillRect(gameState.playerPaddle.x, gameState.playerPaddle.y, gameState.playerPaddle.width, gameState.playerPaddle.height);\n\n      // Draw AI paddle\n      ctx.fillStyle = '#ffffff';\n      ctx.shadowBlur = 10;\n      ctx.shadowColor = '#ffffff';\n      ctx.fillRect(gameState.aiPaddle.x, gameState.aiPaddle.y, gameState.aiPaddle.width, gameState.aiPaddle.height);\n\n      // Draw ball\n      ctx.beginPath();\n      ctx.arc(gameState.ball.x, gameState.ball.y, gameState.ball.size, 0, Math.PI * 2);\n      ctx.fillStyle = '#c084fc';\n      ctx.shadowBlur = 25;\n      ctx.shadowColor = '#c084fc';\n      ctx.fill();\n\n      // Reset shadow\n      ctx.shadowBlur = 0;\n\n      // Draw score\n      ctx.fillStyle = '#a855f7';\n      ctx.font = 'bold 48px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(gameState.score, 400, 60);\n      gameState.animationId = requestAnimationFrame(gameLoop);\n    };\n    gameLoop();\n    return () => {\n      if (gameState.animationId) {\n        cancelAnimationFrame(gameState.animationId);\n      }\n    };\n  }, [gameOver, gameStarted]);\n\n  // Update player paddle based on ELBOW ANGLE\n  useEffect(() => {\n    if (!landmarks || landmarks.length === 0 || gameOver || !gameStarted) return;\n    const gameState = gameStateRef.current;\n    let angle = 90; // Default\n    let minAngle, maxAngle;\n    if (exercise === 'pushups') {\n      // Elbow angle: shoulder -> elbow -> wrist\n      const ls = landmarks[11];\n      const le = landmarks[13];\n      const lw = landmarks[15];\n      const rs = landmarks[12];\n      const re = landmarks[14];\n      const rw = landmarks[16];\n      if (ls && le && lw && rs && re && rw) {\n        const leftElbow = calculateAngle(ls, le, lw);\n        const rightElbow = calculateAngle(rs, re, rw);\n        angle = (leftElbow + rightElbow) / 2;\n\n        // Push-up range: ~80° (down) to ~170° (up)\n        minAngle = 80;\n        maxAngle = 170;\n      } else {\n        return; // No valid landmarks\n      }\n    } else if (exercise === 'pullups') {\n      // Elbow angle for pull-ups\n      const ls = landmarks[11];\n      const le = landmarks[13];\n      const lw = landmarks[15];\n      const rs = landmarks[12];\n      const re = landmarks[14];\n      const rw = landmarks[16];\n      if (ls && le && lw && rs && re && rw) {\n        const leftElbow = calculateAngle(ls, le, lw);\n        const rightElbow = calculateAngle(rs, re, rw);\n        angle = (leftElbow + rightElbow) / 2;\n\n        // Pull-up range: ~70° (chin over bar) to ~170° (hanging)\n        // Smaller angle = paddle UP\n        minAngle = 70;\n        maxAngle = 170;\n      } else {\n        return;\n      }\n    } else if (exercise === 'squats') {\n      // Hip angle: shoulder -> hip -> knee\n      const ls = landmarks[11];\n      const lh = landmarks[23];\n      const lk = landmarks[25];\n      const rs = landmarks[12];\n      const rh = landmarks[24];\n      const rk = landmarks[26];\n      if (ls && lh && lk && rs && rh && rk) {\n        const leftHip = calculateAngle(ls, lh, lk);\n        const rightHip = calculateAngle(rs, rh, rk);\n        angle = (leftHip + rightHip) / 2;\n\n        // Squat range: ~90° (deep squat) to ~170° (standing)\n        minAngle = 90;\n        maxAngle = 170;\n      } else {\n        return;\n      }\n    }\n\n    // Map angle to paddle position\n    // Clamp angle to valid range\n    angle = Math.max(minAngle, Math.min(maxAngle, angle));\n\n    // Normalize angle to 0-1 range\n    const normalized = (angle - minAngle) / (maxAngle - minAngle);\n\n    // For push-ups and squats: larger angle = paddle DOWN (inverted)\n    // For pull-ups: larger angle = paddle DOWN (same - hanging position)\n    const position = 1 - normalized; // Invert so larger angle = lower paddle\n\n    // Map to canvas range\n    const canvasHeight = 600;\n    const paddleHeight = gameState.playerPaddle.height;\n    gameState.playerPaddle.y = position * (canvasHeight - paddleHeight);\n  }, [landmarks, exercise, gameOver, gameStarted]);\n  const exerciseName = exercise === 'pushups' ? 'Push-Up' : exercise === 'pullups' ? 'Pull-Up' : 'Squat';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pong-game\",\n    children: countdown > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-countdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"countdown-title\",\n        children: \"Get Ready!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"countdown-circle\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"countdown-number\",\n          children: countdown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"countdown-instruction\",\n        children: [\"Get into your \", exerciseName, \" starting position\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"countdown-warning\",\n        children: \"\\u26A0\\uFE0F Straighten arms = paddle at top, bend arms = paddle at bottom!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }, this) : !gameOver ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"game-title\",\n          children: [exerciseName, \" Challenge\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"game-instruction\",\n          children: \"Bend and straighten to control your paddle!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 800,\n        height: 600,\n        className: \"pong-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"exit-button\",\n        onClick: onExit,\n        children: \"Exit Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-over\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"game-over-title\",\n        children: \"Game Over!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Time Survived\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [timeAlive, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"play-again-button\",\n        onClick: () => window.location.reload(),\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"exit-button\",\n        onClick: onExit,\n        children: \"Back to Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s(PongGame, \"Nvu1ihlY91fgRaXXUZ6TJakz/cc=\");\n_c = PongGame;\nexport default PongGame;\nvar _c;\n$RefreshReg$(_c, \"PongGame\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","calculateAngle","a","b","c","ba","x","y","z","bc","dot","magBa","Math","sqrt","magBc","cosAngle","max","min","acos","PI","PongGame","exercise","landmarks","onExit","_s","canvasRef","score","setScore","gameOver","setGameOver","timeAlive","setTimeAlive","countdown","setCountdown","gameStarted","setGameStarted","gameStateRef","ball","dx","dy","size","playerPaddle","width","height","aiPaddle","startTime","animationId","timer","setTimeout","clearTimeout","current","Date","now","canvas","ctx","getContext","gameState","gameLoop","fillStyle","fillRect","strokeStyle","setLineDash","lineWidth","beginPath","moveTo","lineTo","stroke","abs","aiCenter","diff","timeAliveSeconds","floor","shadowBlur","shadowColor","arc","fill","font","textAlign","fillText","requestAnimationFrame","cancelAnimationFrame","length","angle","minAngle","maxAngle","ls","le","lw","rs","re","rw","leftElbow","rightElbow","lh","lk","rh","rk","leftHip","rightHip","normalized","position","canvasHeight","paddleHeight","exerciseName","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","window","location","reload","_c","$RefreshReg$"],"sources":["/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/PongGame.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport './PongGame.css';\n\n// Helper function to calculate angle\nconst calculateAngle = (a, b, c) => {\n  const ba = [a.x - b.x, a.y - b.y, a.z - b.z];\n  const bc = [c.x - b.x, c.y - b.y, c.z - b.z];\n  \n  const dot = ba[0] * bc[0] + ba[1] * bc[1] + ba[2] * bc[2];\n  const magBa = Math.sqrt(ba[0] ** 2 + ba[1] ** 2 + ba[2] ** 2);\n  const magBc = Math.sqrt(bc[0] ** 2 + bc[1] ** 2 + bc[2] ** 2);\n  \n  if (magBa === 0 || magBc === 0) return 0;\n  \n  const cosAngle = Math.max(-1, Math.min(1, dot / (magBa * magBc)));\n  return Math.acos(cosAngle) * (180 / Math.PI);\n};\n\nconst PongGame = ({ exercise, landmarks, onExit }) => {\n  const canvasRef = useRef(null);\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [timeAlive, setTimeAlive] = useState(0);\n  const [countdown, setCountdown] = useState(10);\n  const [gameStarted, setGameStarted] = useState(false);\n  \n  const gameStateRef = useRef({\n    ball: { x: 400, y: 300, dx: 4, dy: 4, size: 12 },\n    playerPaddle: { x: 20, y: 250, width: 15, height: 100 },\n    aiPaddle: { x: 765, y: 250, width: 15, height: 100 },\n    score: 0,\n    startTime: null,\n    animationId: null\n  });\n\n  // Countdown timer\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => {\n        setCountdown(countdown - 1);\n      }, 1000);\n      return () => clearTimeout(timer);\n    } else if (countdown === 0 && !gameStarted) {\n      setGameStarted(true);\n      gameStateRef.current.startTime = Date.now();\n    }\n  }, [countdown, gameStarted]);\n\n  useEffect(() => {\n    if (!gameStarted) return;\n\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    const gameState = gameStateRef.current;\n\n    // Game loop\n    const gameLoop = () => {\n      if (gameOver) return;\n\n      // Clear canvas\n      ctx.fillStyle = '#000000';\n      ctx.fillRect(0, 0, 800, 600);\n\n      // Draw center line\n      ctx.strokeStyle = '#a855f7';\n      ctx.setLineDash([10, 10]);\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(400, 0);\n      ctx.lineTo(400, 600);\n      ctx.stroke();\n      ctx.setLineDash([]);\n\n      // Update ball position\n      gameState.ball.x += gameState.ball.dx;\n      gameState.ball.y += gameState.ball.dy;\n\n      // Ball collision with top/bottom\n      if (gameState.ball.y - gameState.ball.size < 0 || \n          gameState.ball.y + gameState.ball.size > 600) {\n        gameState.ball.dy *= -1;\n      }\n\n      // Ball collision with player paddle\n      if (gameState.ball.x - gameState.ball.size < gameState.playerPaddle.x + gameState.playerPaddle.width &&\n          gameState.ball.x + gameState.ball.size > gameState.playerPaddle.x &&\n          gameState.ball.y > gameState.playerPaddle.y &&\n          gameState.ball.y < gameState.playerPaddle.y + gameState.playerPaddle.height) {\n        gameState.ball.dx = Math.abs(gameState.ball.dx);\n        gameState.score++;\n        setScore(gameState.score);\n        \n        // Speed up slightly\n        gameState.ball.dx *= 1.05;\n        gameState.ball.dy *= 1.05;\n      }\n\n      // Ball collision with AI paddle (perfect)\n      if (gameState.ball.x + gameState.ball.size > gameState.aiPaddle.x &&\n          gameState.ball.x - gameState.ball.size < gameState.aiPaddle.x + gameState.aiPaddle.width &&\n          gameState.ball.y > gameState.aiPaddle.y &&\n          gameState.ball.y < gameState.aiPaddle.y + gameState.aiPaddle.height) {\n        gameState.ball.dx = -Math.abs(gameState.ball.dx);\n      }\n\n      // AI follows ball perfectly (unbeatable)\n      const aiCenter = gameState.aiPaddle.y + gameState.aiPaddle.height / 2;\n      const diff = gameState.ball.y - aiCenter;\n      gameState.aiPaddle.y += diff * 0.3;\n      \n      // Keep AI paddle in bounds\n      gameState.aiPaddle.y = Math.max(0, Math.min(600 - gameState.aiPaddle.height, gameState.aiPaddle.y));\n\n      // Check if player lost\n      if (gameState.ball.x < 0) {\n        setGameOver(true);\n        const timeAliveSeconds = Math.floor((Date.now() - gameState.startTime) / 1000);\n        setTimeAlive(timeAliveSeconds);\n        return;\n      }\n\n      // Reset ball if goes past AI\n      if (gameState.ball.x > 800) {\n        gameState.ball.x = 400;\n        gameState.ball.y = 300;\n        gameState.ball.dx = -4;\n        gameState.ball.dy = 4;\n      }\n\n      // Draw player paddle\n      ctx.fillStyle = '#a855f7';\n      ctx.shadowBlur = 20;\n      ctx.shadowColor = '#a855f7';\n      ctx.fillRect(\n        gameState.playerPaddle.x,\n        gameState.playerPaddle.y,\n        gameState.playerPaddle.width,\n        gameState.playerPaddle.height\n      );\n\n      // Draw AI paddle\n      ctx.fillStyle = '#ffffff';\n      ctx.shadowBlur = 10;\n      ctx.shadowColor = '#ffffff';\n      ctx.fillRect(\n        gameState.aiPaddle.x,\n        gameState.aiPaddle.y,\n        gameState.aiPaddle.width,\n        gameState.aiPaddle.height\n      );\n\n      // Draw ball\n      ctx.beginPath();\n      ctx.arc(gameState.ball.x, gameState.ball.y, gameState.ball.size, 0, Math.PI * 2);\n      ctx.fillStyle = '#c084fc';\n      ctx.shadowBlur = 25;\n      ctx.shadowColor = '#c084fc';\n      ctx.fill();\n\n      // Reset shadow\n      ctx.shadowBlur = 0;\n\n      // Draw score\n      ctx.fillStyle = '#a855f7';\n      ctx.font = 'bold 48px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(gameState.score, 400, 60);\n\n      gameState.animationId = requestAnimationFrame(gameLoop);\n    };\n\n    gameLoop();\n\n    return () => {\n      if (gameState.animationId) {\n        cancelAnimationFrame(gameState.animationId);\n      }\n    };\n  }, [gameOver, gameStarted]);\n\n  // Update player paddle based on ELBOW ANGLE\n  useEffect(() => {\n    if (!landmarks || landmarks.length === 0 || gameOver || !gameStarted) return;\n\n    const gameState = gameStateRef.current;\n    let angle = 90; // Default\n    let minAngle, maxAngle;\n\n    if (exercise === 'pushups') {\n      // Elbow angle: shoulder -> elbow -> wrist\n      const ls = landmarks[11];\n      const le = landmarks[13];\n      const lw = landmarks[15];\n      const rs = landmarks[12];\n      const re = landmarks[14];\n      const rw = landmarks[16];\n      \n      if (ls && le && lw && rs && re && rw) {\n        const leftElbow = calculateAngle(ls, le, lw);\n        const rightElbow = calculateAngle(rs, re, rw);\n        angle = (leftElbow + rightElbow) / 2;\n        \n        // Push-up range: ~80° (down) to ~170° (up)\n        minAngle = 80;\n        maxAngle = 170;\n      } else {\n        return; // No valid landmarks\n      }\n    } else if (exercise === 'pullups') {\n      // Elbow angle for pull-ups\n      const ls = landmarks[11];\n      const le = landmarks[13];\n      const lw = landmarks[15];\n      const rs = landmarks[12];\n      const re = landmarks[14];\n      const rw = landmarks[16];\n      \n      if (ls && le && lw && rs && re && rw) {\n        const leftElbow = calculateAngle(ls, le, lw);\n        const rightElbow = calculateAngle(rs, re, rw);\n        angle = (leftElbow + rightElbow) / 2;\n        \n        // Pull-up range: ~70° (chin over bar) to ~170° (hanging)\n        // Smaller angle = paddle UP\n        minAngle = 70;\n        maxAngle = 170;\n      } else {\n        return;\n      }\n    } else if (exercise === 'squats') {\n      // Hip angle: shoulder -> hip -> knee\n      const ls = landmarks[11];\n      const lh = landmarks[23];\n      const lk = landmarks[25];\n      const rs = landmarks[12];\n      const rh = landmarks[24];\n      const rk = landmarks[26];\n      \n      if (ls && lh && lk && rs && rh && rk) {\n        const leftHip = calculateAngle(ls, lh, lk);\n        const rightHip = calculateAngle(rs, rh, rk);\n        angle = (leftHip + rightHip) / 2;\n        \n        // Squat range: ~90° (deep squat) to ~170° (standing)\n        minAngle = 90;\n        maxAngle = 170;\n      } else {\n        return;\n      }\n    }\n\n    // Map angle to paddle position\n    // Clamp angle to valid range\n    angle = Math.max(minAngle, Math.min(maxAngle, angle));\n    \n    // Normalize angle to 0-1 range\n    const normalized = (angle - minAngle) / (maxAngle - minAngle);\n    \n    // For push-ups and squats: larger angle = paddle DOWN (inverted)\n    // For pull-ups: larger angle = paddle DOWN (same - hanging position)\n    const position = 1 - normalized; // Invert so larger angle = lower paddle\n    \n    // Map to canvas range\n    const canvasHeight = 600;\n    const paddleHeight = gameState.playerPaddle.height;\n    \n    gameState.playerPaddle.y = position * (canvasHeight - paddleHeight);\n    \n  }, [landmarks, exercise, gameOver, gameStarted]);\n\n  const exerciseName = exercise === 'pushups' ? 'Push-Up' : exercise === 'pullups' ? 'Pull-Up' : 'Squat';\n\n  return (\n    <div className=\"pong-game\">\n      {countdown > 0 ? (\n        <div className=\"game-countdown\">\n          <h2 className=\"countdown-title\">Get Ready!</h2>\n          <div className=\"countdown-circle\">\n            <div className=\"countdown-number\">{countdown}</div>\n          </div>\n          <p className=\"countdown-instruction\">\n            Get into your {exerciseName} starting position\n          </p>\n          <p className=\"countdown-warning\">\n            ⚠️ Straighten arms = paddle at top, bend arms = paddle at bottom!\n          </p>\n        </div>\n      ) : !gameOver ? (\n        <>\n          <div className=\"game-header\">\n            <h2 className=\"game-title\">{exerciseName} Challenge</h2>\n            <p className=\"game-instruction\">Bend and straighten to control your paddle!</p>\n          </div>\n          <canvas \n            ref={canvasRef} \n            width={800} \n            height={600}\n            className=\"pong-canvas\"\n          />\n          <button className=\"exit-button\" onClick={onExit}>\n            Exit Game\n          </button>\n        </>\n      ) : (\n        <div className=\"game-over\">\n          <h2 className=\"game-over-title\">Game Over!</h2>\n          <div className=\"game-stats\">\n            <div className=\"stat\">\n              <span className=\"stat-label\">Score</span>\n              <span className=\"stat-value\">{score}</span>\n            </div>\n            <div className=\"stat\">\n              <span className=\"stat-label\">Time Survived</span>\n              <span className=\"stat-value\">{timeAlive}s</span>\n            </div>\n          </div>\n          <button className=\"play-again-button\" onClick={() => window.location.reload()}>\n            Play Again\n          </button>\n          <button className=\"exit-button\" onClick={onExit}>\n            Back to Menu\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PongGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}