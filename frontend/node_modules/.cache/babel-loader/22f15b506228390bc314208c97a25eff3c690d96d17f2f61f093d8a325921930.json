{"ast":null,"code":"var _jsxFileName = \"/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/Countdown.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Countdown.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Countdown = ({\n  exercise,\n  onComplete,\n  onCancel\n}) => {\n  _s();\n  const [count, setCount] = useState(5);\n  const [cameraReady, setCameraReady] = useState(false); // track if camera permission granted\n  const [cameraError, setCameraError] = useState(false);\n\n  // Request camera access before starting countdown\n  useEffect(() => {\n    const requestCamera = async () => {\n      try {\n        await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        setCameraReady(true); // permission granted\n      } catch (err) {\n        console.error('Camera access denied', err);\n        setCameraError(true); // permission denied\n      }\n    };\n    requestCamera();\n  }, []);\n\n  // Countdown effect\n  useEffect(() => {\n    if (!cameraReady) return; // wait for camera permission\n    if (count === 0) {\n      onComplete();\n      return;\n    }\n    const timer = setTimeout(() => {\n      setCount(count - 1);\n    }, 1000);\n    return () => clearTimeout(timer);\n  }, [count, cameraReady, onComplete]);\n\n  // Map exercise to display name\n  let exerciseName;\n  switch (exercise) {\n    case 'pushups':\n      exerciseName = 'Push-Ups';\n      break;\n    case 'pullups':\n      exerciseName = 'Pull-Ups';\n      break;\n    case 'squats':\n      exerciseName = 'Squats';\n      break;\n    default:\n      exerciseName = 'Exercise';\n  }\n\n  // If camera is denied, show a message\n  if (cameraError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"countdown-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red',\n          textAlign: 'center'\n        },\n        children: \"Camera access is required to start the workout.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"countdown-cancel\",\n        onClick: onCancel,\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Wait for camera permission\n  if (!cameraReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"countdown-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#fff',\n          textAlign: 'center'\n        },\n        children: \"Waiting for camera permission...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Countdown UI\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"countdown-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"countdown-cancel\",\n      onClick: onCancel,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"countdown-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"countdown-title\",\n        children: [\"Get Ready for \", exerciseName, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"countdown-circle\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"countdown-number\",\n          children: count === 0 ? 'GO!' : count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"countdown-instruction\",\n        children: \"Position yourself in frame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(Countdown, \"GBMUGdaWnn2079M9UHLnbWWaZGw=\");\n_c = Countdown;\nexport default Countdown;\nvar _c;\n$RefreshReg$(_c, \"Countdown\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Countdown","exercise","onComplete","onCancel","_s","count","setCount","cameraReady","setCameraReady","cameraError","setCameraError","requestCamera","navigator","mediaDevices","getUserMedia","video","err","console","error","timer","setTimeout","clearTimeout","exerciseName","className","children","style","color","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/Countdown.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Countdown.css';\n\nconst Countdown = ({ exercise, onComplete, onCancel }) => {\n  const [count, setCount] = useState(5);\n  const [cameraReady, setCameraReady] = useState(false); // track if camera permission granted\n  const [cameraError, setCameraError] = useState(false);\n\n  // Request camera access before starting countdown\n  useEffect(() => {\n    const requestCamera = async () => {\n      try {\n        await navigator.mediaDevices.getUserMedia({ video: true });\n        setCameraReady(true); // permission granted\n      } catch (err) {\n        console.error('Camera access denied', err);\n        setCameraError(true); // permission denied\n      }\n    };\n    requestCamera();\n  }, []);\n\n  // Countdown effect\n  useEffect(() => {\n    if (!cameraReady) return; // wait for camera permission\n    if (count === 0) {\n      onComplete();\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      setCount(count - 1);\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, [count, cameraReady, onComplete]);\n\n  // Map exercise to display name\n  let exerciseName;\n  switch (exercise) {\n    case 'pushups':\n      exerciseName = 'Push-Ups';\n      break;\n    case 'pullups':\n      exerciseName = 'Pull-Ups';\n      break;\n    case 'squats':\n      exerciseName = 'Squats';\n      break;\n    default:\n      exerciseName = 'Exercise';\n  }\n\n  // If camera is denied, show a message\n  if (cameraError) {\n    return (\n      <div className=\"countdown-container\">\n        <p style={{ color: 'red', textAlign: 'center' }}>\n          Camera access is required to start the workout.\n        </p>\n        <button className=\"countdown-cancel\" onClick={onCancel}>\n          Go Back\n        </button>\n      </div>\n    );\n  }\n\n  // Wait for camera permission\n  if (!cameraReady) {\n    return (\n      <div className=\"countdown-container\">\n        <p style={{ color: '#fff', textAlign: 'center' }}>\n          Waiting for camera permission...\n        </p>\n      </div>\n    );\n  }\n\n  // Countdown UI\n  return (\n    <div className=\"countdown-container\">\n      <button className=\"countdown-cancel\" onClick={onCancel}>\n        Cancel\n      </button>\n      <div className=\"countdown-content\">\n        <h2 className=\"countdown-title\">Get Ready for {exerciseName}!</h2>\n        <div className=\"countdown-circle\">\n          <div className=\"countdown-number\">{count === 0 ? 'GO!' : count}</div>\n        </div>\n        <p className=\"countdown-instruction\">Position yourself in frame</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Countdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}