{"ast":null,"code":"var _jsxFileName = \"/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/CameraFeed.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraFeed = ({\n  socket\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const setupCamera = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        console.error(\"Error accessing camera: \", err);\n      }\n    };\n    setupCamera();\n    const interval = setInterval(() => {\n      if (socket && socket.connected && videoRef.current) {\n        const canvas = canvasRef.current;\n        const context = canvas.getContext('2d');\n        canvas.width = videoRef.current.videoWidth;\n        canvas.height = videoRef.current.videoHeight;\n        context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n        const frame = canvas.toDataURL('image/jpeg');\n        console.log('Sending frame to backend');\n        socket.emit('video_frame', {\n          frame\n        });\n      }\n    }, 100); // Send frame every 100ms (10fps)\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [socket]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"camera-feed\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      muted: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraFeed, \"0gwqVvoOV2or9Ql4L8GH2BGn3hc=\");\n_c = CameraFeed;\nexport default CameraFeed;\nvar _c;\n$RefreshReg$(_c, \"CameraFeed\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","CameraFeed","socket","_s","videoRef","canvasRef","setupCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","console","error","interval","setInterval","connected","canvas","context","getContext","width","videoWidth","height","videoHeight","drawImage","frame","toDataURL","log","emit","clearInterval","className","children","ref","autoPlay","playsInline","muted","fileName","_jsxFileName","lineNumber","columnNumber","style","display","_c","$RefreshReg$"],"sources":["/Users/abrahambhatti/Desktop/trainerAI/frontend/src/components/CameraFeed.js"],"sourcesContent":["\nimport React, { useRef, useEffect } from 'react';\n\nconst CameraFeed = ({ socket }) => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const setupCamera = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        console.error(\"Error accessing camera: \", err);\n      }\n    };\n\n    setupCamera();\n\n    const interval = setInterval(() => {\n      if (socket && socket.connected && videoRef.current) {\n        const canvas = canvasRef.current;\n        const context = canvas.getContext('2d');\n        canvas.width = videoRef.current.videoWidth;\n        canvas.height = videoRef.current.videoHeight;\n        context.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n        const frame = canvas.toDataURL('image/jpeg');\n        console.log('Sending frame to backend');\n        socket.emit('video_frame', { frame });\n      }\n    }, 100); // Send frame every 100ms (10fps)\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [socket]);\n\n  return (\n    <div className=\"camera-feed\">\n      <video ref={videoRef} autoPlay playsInline muted />\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\n    </div>\n  );\n};\n\nexport default CameraFeed;\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAMC,QAAQ,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMQ,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACd,MAAMQ,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;UAAEC,KAAK,EAAE;QAAK,CAAC,CAAC;QACzE,IAAIP,QAAQ,CAACQ,OAAO,EAAE;UACpBR,QAAQ,CAACQ,OAAO,CAACC,SAAS,GAAGN,MAAM;QACrC;MACF,CAAC,CAAC,OAAOO,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;MAChD;IACF,CAAC;IAEDR,WAAW,CAAC,CAAC;IAEb,MAAMW,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjC,IAAIhB,MAAM,IAAIA,MAAM,CAACiB,SAAS,IAAIf,QAAQ,CAACQ,OAAO,EAAE;QAClD,MAAMQ,MAAM,GAAGf,SAAS,CAACO,OAAO;QAChC,MAAMS,OAAO,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;QACvCF,MAAM,CAACG,KAAK,GAAGnB,QAAQ,CAACQ,OAAO,CAACY,UAAU;QAC1CJ,MAAM,CAACK,MAAM,GAAGrB,QAAQ,CAACQ,OAAO,CAACc,WAAW;QAC5CL,OAAO,CAACM,SAAS,CAACvB,QAAQ,CAACQ,OAAO,EAAE,CAAC,EAAE,CAAC,EAAEQ,MAAM,CAACG,KAAK,EAAEH,MAAM,CAACK,MAAM,CAAC;QACtE,MAAMG,KAAK,GAAGR,MAAM,CAACS,SAAS,CAAC,YAAY,CAAC;QAC5Cd,OAAO,CAACe,GAAG,CAAC,0BAA0B,CAAC;QACvC5B,MAAM,CAAC6B,IAAI,CAAC,aAAa,EAAE;UAAEH;QAAM,CAAC,CAAC;MACvC;IACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;;IAET,OAAO,MAAM;MACXI,aAAa,CAACf,QAAQ,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAACf,MAAM,CAAC,CAAC;EAEZ,oBACEF,OAAA;IAAKiC,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BlC,OAAA;MAAOmC,GAAG,EAAE/B,QAAS;MAACgC,QAAQ;MAACC,WAAW;MAACC,KAAK;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnD1C,OAAA;MAAQmC,GAAG,EAAE9B,SAAU;MAACsC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnD,CAAC;AAEV,CAAC;AAACvC,EAAA,CA1CIF,UAAU;AAAA4C,EAAA,GAAV5C,UAAU;AA4ChB,eAAeA,UAAU;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}